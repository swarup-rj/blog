---
title: "Web Scraping with Python"
layout: post
date: 2018-10-18
tags: blog
comments: true
---
###### Goal
Automatically extract data from the web and present it in a desired format 

###### Prerequisites
1. [Python](https://www.python.org)
2. Python libraries: 
	1. [urllib2](https://docs.python.org/2/library/urllib2.html): already included in python
	2. [bs4 (BeautifulSoup4)](https://www.crummy.com/software/BeautifulSoup/bs4/doc/): 
	{% highlight python %}
	 	easy_install pip
		pip install BeautifulSoup4
	{% endhighlight %}

###### Rules
1. Be law-abiding: Check website's terms and conditions beforehand
2. Be human: One request for one webpage per second
3. Be the change: Sites change their layout. Rewrite your code


###### Import required libraries
{% highlight python %}
/* Load urlopen function from the urllib2 library*/
from urllib2 import urlopen
/*Load BeautifulSoup class from the bs4 (BeautifulSoup4) library*/
from bs4 import BeautifulSoup
{% endhighlight %}

###### The website (Times of India, Guwahati Page) to scrape (extract the latest stories)
{% highlight python %}
url="https://timesofindia.indiatimes.com/city/guwahati"
{% endhighlight %}

###### Query the website (open url) and return the html (read it in the *data* object)
{% highlight python %}
/* Open url */
data = urlopen(url).read()
{% endhighlight %}

###### Parse (html.parser) the html (data) using beautifulsoup and store in *soup*
{% highlight python %}
/* Make soup ;-) */
soup = BeautifulSoup(data,'html.parser')
{% endhighlight %}


###### Extract the latest stories
{% highlight python %}
newslist = soup.find('ul', attrs={'class':'list5 clearfix'})
for news in newslist:
    title=news.find('a')
    try:
    	print title.text
    except:
        print "****This is an advertisement****"
{% endhighlight %}